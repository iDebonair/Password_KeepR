<!DOCTYPE html>
<html>

<head>
  <title>Generate Password</title>
  <style>
    #passwordResult {
      border: 1px solid #ccc;
      padding: 10px;
      margin-top: 10px;
      background-color: #f9f9f9;
    }
  </style>
</head>

<body>
  <h1>Generate Password</h1>
  <form action="/generatepassword" method="POST">
    <!-- Input fields for the password options -->
    <label for="length">Password Length:</label>
    <input type="number" id="length" name="length" min="8" max="32" value="12" required>

    <label for="includeLowercase">Include Lowercase:</label>
    <input type="checkbox" id="includeLowercase" name="includeLowercase" checked>

    <label for="includeUppercase">Include Uppercase:</label>
    <input type="checkbox" id="includeUppercase" name="includeUppercase" checked>

    <label for="includeNumbers">Include Numbers:</label>
    <input type="checkbox" id="includeNumbers" name="includeNumbers" checked>

    <label for="includeSymbols">Include Symbols:</label>
    <input type="checkbox" id="includeSymbols" name="includeSymbols" checked>

    <button type="submit">Generate Password</button>
  </form>

  <div id="passwordResult"></div>

  <script>
    // Your password generator function (same as before)
    function generatePassword(options) {
      const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
      const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      const numberChars = '0123456789';
      const symbolChars = '!@#$%^&*()-=_+[]{}|;:,.<>?';

      let allChars = '';

      if (options.includeLowercase) allChars += lowercaseChars;
      if (options.includeUppercase) allChars += uppercaseChars;
      if (options.includeNumbers) allChars += numberChars;
      if (options.includeSymbols) allChars += symbolChars;

      if (!allChars) {
        throw new Error('Invalid options: Must include at least one character type.');
      }

      let password = '';
      for (let i = 0; i < options.length; i++) {
        const randomIndex = Math.floor(Math.random() * allChars.length);
        password += allChars[randomIndex];
      }

      return password;
    }

    // Function to handle form submission and display the generated password
    document.getElementById('passwordForm').addEventListener('submit', function(event) {
      event.preventDefault();

      const options = {
        length: parseInt(document.getElementById('length').value),
        includeLowercase: document.getElementById('includeLowercase').checked,
        includeUppercase: document.getElementById('includeUppercase').checked,
        includeNumbers: document.getElementById('includeNumbers').checked,
        includeSymbols: document.getElementById('includeSymbols').checked,
      };

      const password = generatePassword(options);

      // Display the generated password in the "passwordResult" div
      document.getElementById('passwordResult').innerText = 'Generated Password: ' + password;
    });
  </script>
</body>

</html>